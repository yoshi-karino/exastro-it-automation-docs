
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>ITA_システム構成/環境構築ガイド &#8212; Documentation  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/option.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/translations.js"></script>
  
    <script type="text/javascript" src="../../../_static/exastro_documents.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" /> 
  </head>
<body id="page" class="ja">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><img src="../../../_static/img/exastro.svg" alt="Exastro"></div>
    <!-- Project name -->
    <div id="projectName"><a href="../../../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../../../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="検索"><img src="../../../_static/img/search.png" alt="検索"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" onchange="location.href=value;">
                file_path: v2.0/ja/it_automation_base/architecture
                  <option value="#"
                  selected
                  >current</option>
                file_path: v2.0/ja/it_automation_base/architecture
                  <option value="#"
                  selected
                  >v2.0 (current)</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" onchange="location.href=value;">
                file_path: v2.0/ja/it_automation_base/architecture
                hasdoc: True
                  <option value="#"
                  selected
                  >日本語</option>
                file_path: v2.0/en/it_automation_base/architecture
                hasdoc: False
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Exastro IT Automation Documentation</a></li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->

<div id="contents">
<main class="divInner">


<div id="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">HOME</a></li>
    
    <li>ITA_システム構成/環境構築ガイド</li>
  </ul>
</div>


<div id="article">
<article class="divInner">
<div class="body" role="main">

  <section id="ita">
<h1>ITA_システム構成/環境構築ガイド<a class="headerlink" href="#ita" title="この見出しへのパーマリンク">¶</a></h1>
<a class="reference internal image-reference" href="../../../_images/image114.png"><img alt="../../../_images/image114.png" src="../../../_images/image114.png" style="width: 3.35079in; height: 0.78559in;" /></a>
<div class="line-block">
<div class="line">基本編</div>
<div class="line">－第1.10版－</div>
<div class="line">Copyright © NEC Corporation 2021. All rights reserved.</div>
<div class="line">免責事項</div>
<div class="line">本書の内容はすべて日本電気株式会社が所有する著作権に保護されています。</div>
<div class="line">本書の内容の一部または全部を無断で転載および複写することは禁止されています。</div>
<div class="line">本書の内容は将来予告なしに変更することがあります。</div>
<div class="line">日本電気株式会社は、本書の技術的もしくは編集上の間違い、欠落について、一切責任を負いません。</div>
<div class="line">日本電気株式会社は、本書の内容に関し、その正確性、有用性、確実性その他いかなる保証もいたしません。</div>
<div class="line">商標</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>LinuxはLinus</dt><dd><p>Torvalds氏の米国およびその他の国における登録商標または商標です。</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Red Hatは、Red Hat,</dt><dd><p>Inc.の米国およびその他の国における登録商標または商標です。</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Apache、Apache Tomcat、Tomcatは、Apache Software</dt><dd><p>Foundationの登録商標または商標です。</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Oracle、MySQLは、Oracle Corporation</dt><dd><p>およびその子会社、関連会社の米国およびその他の国における登録商標です。</p>
</dd>
</dl>
</li>
<li><p>MariaDBは、MariaDB Foundationの登録商標または商標です。</p></li>
</ul>
<div class="line-block">
<div class="line">その他、本書に記載のシステム名、会社名、製品名は、各社の登録商標もしくは商標です。</div>
<div class="line">なお、® マーク、TMマークは本書に明記しておりません。</div>
<div class="line">※本書では「Exastro IT Automation」を「ITA」として記載します。</div>
</div>
<section id="id1">
<h2>はじめに<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h2>
<p>本書では、ITAシステム運用の為のシステム構成と環境構築について説明します。</p>
</section>
<section id="id2">
<h2>システム要件<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic simple">
<li></li>
<li></li>
<li></li>
<li></li>
</ol>
<section id="id3">
<h3>サーバ動作要件<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h3>
<p><a href="#id4"><span class="problematic" id="id5">|</span></a>本システムはLinuxサーバで稼働し、クライアントPCからブラウザ経由でアクセスします。
<a href="#id6"><span class="problematic" id="id7">|</span></a>システムインストールするにあたっては、次の要件を満たしているサーバをご用意ください。</p>
</section>
<section id="id8">
<h3>サーバ構成<a class="headerlink" href="#id8" title="この見出しへのパーマリンク">¶</a></h3>
<table class="docutils align-default" id="id16">
<caption><span class="caption-text">サーバ構成一覧</span><a class="headerlink" href="#id16" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>カテゴリ</strong></p></th>
<th class="head"><p><strong>必須
／選択</strong></p></th>
<th class="head"><p><strong>製品名</strong></p></th>
<th class="head"><p><strong>バージョン</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OS</p></td>
<td><p>いずれかか</p></td>
<td><p>RHEL</p></td>
<td><p>7.x
8.x</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>CentOS</p></td>
<td><p>7.x</p>
<p>8.xは2021/12/31にEOLとなったため対象外</p>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p>CentOS Stream</p></td>
<td><p>8.x</p></td>
</tr>
<tr class="row-odd"><td><p>Webサーバ</p></td>
<td><p>必須</p></td>
<td><p>Apache</p></td>
<td><p>2.4系</p></td>
</tr>
<tr class="row-even"><td><p>データベース</p></td>
<td><p>必須</p></td>
<td><p>MariaDB</p></td>
<td><p>10.3以上</p></td>
</tr>
<tr class="row-odd"><td><p>言語</p></td>
<td><p>必須</p></td>
<td><p>PHP</p></td>
<td><p>ITAv1.9.1以前：7.2</p>
<p>ITAv1.10.0以降：7.2または7.4</p>
</td>
</tr>
<tr class="row-even"><td><p>PHPライブラリ</p></td>
<td><p>すべて必須</p></td>
<td><p>PhpSpreadsheet</p></td>
<td><p>1.10.1以上</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>php-yaml</p></td>
<td><p>2.1.0以上</p></td>
</tr>
<tr class="row-even"><td><p>Pearライブラリ</p></td>
<td><p>必須</p></td>
<td><p>HTML_AJAX</p></td>
<td><p>0.5.7以上</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id9">
<h3>サーバ最小スペック<a class="headerlink" href="#id9" title="この見出しへのパーマリンク">¶</a></h3>
<table class="docutils align-default" id="id17">
<caption><span class="caption-text">サーバ最小スペック一覧</span><a class="headerlink" href="#id17" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>カテゴリ</p></th>
<th class="head"><p>最小スペック値</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CPU</p></td>
<td><p>2Core</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>メモリ</p></td>
<td><p>4GB</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ディスク容量</p></td>
<td><p>1GB</p></td>
<td><p>ITAシステムの容量。OSやログ保存の容量を除く。</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id10">
<h3>サイジング<a class="headerlink" href="#id10" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">サーバスペックについて、下記三つの観点を目安に設計を行ってください。</div>
</div>
<dl>
<dt>メニューあたりのレコード数</dt><dd><div class="line-block">
<div class="line">メニュー作成で設定する、ひとつのメニュー内のレコードの数です。</div>
</div>
</dd>
</dl>
<table class="docutils align-default" id="id18">
<caption><span class="caption-text">メニューあたりの項目数とサーバスペック一覧</span><a class="headerlink" href="#id18" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>メニュー項目数</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>メモリ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>～ 10,000</p></td>
<td><p>2Core</p></td>
<td><p>4GB</p></td>
</tr>
<tr class="row-odd"><td><p>10,000 ～ 20,000</p></td>
<td><p>4Core</p></td>
<td><p>8GB</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl>
<dt>Ansible作業実行の同時実行数</dt><dd><div class="line-block">
<div class="line">Ansibleの作業実行を並列処理で実行する数です。</div>
<div class="line">並列実行数は「Ansible共通」＞「インターフェース情報」＞「並列実行数」で設定することができます。</div>
</div>
</dd>
</dl>
<table class="docutils align-default" id="id19">
<caption><span class="caption-text">Ansible作業実行の同時実行数とサーバスペック一覧</span><a class="headerlink" href="#id19" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>作業実行の同時実行数</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>メモリ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>～ 50</p></td>
<td><p>2Core</p></td>
<td><p>4GB</p></td>
</tr>
<tr class="row-odd"><td><p>50 ～ 100</p></td>
<td><p>4Core</p></td>
<td><p>8GB</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl>
<dt>同時ログイン操作数</dt><dd><div class="line-block">
<div class="line">同時にログインして操作するユーザー数です。</div>
<div class="line">ログインした状態で画面遷移やフィルタ検索、登録などの操作を行います。</div>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<div class="line-block">
<div class="line">ITAインストール後の設定</div>
<div class="line">ITAインストール後の設定は、ITAシステムサーバ※1の最小スペック（CPU：2コア／メモリ：4GB）にて動作するように設計されています。</div>
<div class="line">最小スペック以上で設計する場合は、性能を上げるために設定値のチューニングも実施してください。</div>
<div class="line">設定値についてはマニュアルの「【参考】インストール時の各コンフィグ設定値」をご参照ください。</div>
<div class="line">※1 ITAシステムサーバ …</div>
<div class="line">Ansibleサーバなど連携ドライバのサーバを別構成にしたITA基本構成</div>
</div>
</div>
</section>
<section id="id11">
<h3>クライアント動作要件<a class="headerlink" href="#id11" title="この見出しへのパーマリンク">¶</a></h3>
<p>本システムの機能を利用するにあたって、クライアント側PCの動作環境は以下を推奨します。</p>
<div class="line-block">
<div class="line">※1 Excelファイルダウンロードを行う場合に必須です（ダウンロードファイル形式がExcelのため）。</div>
</div>
</section>
</section>
<section id="id12">
<h2>システム構成<a class="headerlink" href="#id12" title="この見出しへのパーマリンク">¶</a></h2>
<section id="id13">
<h3>システム構成<a class="headerlink" href="#id13" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">本ソフトウェアのWeb/AP機能、BackYard機能、データベース、データストレージは、次のようなサーバ構成で運用が可能です。</div>
</div>
<table class="docutils align-default" id="id20">
<caption><span class="caption-text">システム構成パターン</span><a class="headerlink" href="#id20" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>N
o</p></th>
<th class="head"><p>構成</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>オール
インワン構成</p></td>
<td><p>システムを一つのサーバ上で
組み立てる構成パターン。</p></td>
<td><p>ITA-BASE機能とオールインワン構
成可能な連携ドライバ</p>
<ol class="arabic simple">
<li><p>Ansibler-driver</p></li>
<li><p>Cobbler-driver</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>HA構成</p></td>
<td><p>システムを全て個別のサー
バに切り離して冗長構成を
とり、データファイル、DB
ファイルを外部ストレージ
に格納する構築パターン。</p></td>
<td><p>Web/APサーバ
(Act/Act構成)</p>
<p>DBMSサーバ
(Act/Sby構成)</p>
<p>Backyardサーバ
(Act/Sby構成)</p>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">以降に、代表例としてAnsible Driverおよび Ansible</div>
<div class="line">Coreを利用するシステムのイメージ図を記載します。</div>
</div>
<table class="docutils align-default" id="id21">
<caption><span class="caption-text">システム構成パターン2</span><a class="headerlink" href="#id21" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>通信番号1</strong></p></th>
<th class="head"><p><strong>FROM</strong></p></th>
<th class="head"><p><strong>TO</strong></p></th>
<th class="head"><p><strong>プロトコル</strong></p>
<p><strong>[ポート番
号2]</strong></p>
</th>
<th class="head"><p><strong>主な用途</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>端末</p></td>
<td><p>Web/APサーバ</p></td>
<td><p>http(s)</p>
<p>[
80(443)/tcp]</p>
</td>
<td><p>Exastro ITAのWebコンテンツへのアクセス</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">各利用Driverのシステム構成の詳細については、各システム構成／環境構築ガイドを参照ください。</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image210.png"><img alt="ダイアグラム 自動的に生成された説明" class="align-center" src="../../../_images/image210.png" style="width: 6.69236in; height: 3.82153in;" /></a>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../../_images/image3.png"><img alt="ダイアグラム 自動的に生成された説明" class="align-center" src="../../../_images/image3.png" style="width: 6.69236in; height: 3.72431in;" /></a>
</section>
<section id="id14">
<h3>システムの通信要件<a class="headerlink" href="#id14" title="この見出しへのパーマリンク">¶</a></h3>
<dl>
<dt>本システム構成において、各サービス間の通信要件は以下の通りです。</dt><dd><div class="line-block">
<div class="line">Ansible Driverおよび Terraform</div>
<div class="line">Driverで利用する通信要件は以下を参照ください。</div>
<div class="line">・「システム構成／環境構築ガイド_Ansible-driver 編」</div>
<div class="line">・「システム構成／環境構築ガイド_Terraform-driver 編」</div>
</div>
</dd>
</dl>
<div class="line-block">
<div class="line">※1「2.1システム構成」の構成イメージに上記番号と紐づく通信番号を記載。</div>
<div class="line">※2 ポート番号は標準的なポート番号を記載。</div>
</div>
</section>
<section id="id15">
<h3>サーバ拡張性の影響ポイント<a class="headerlink" href="#id15" title="この見出しへのパーマリンク">¶</a></h3>
<dl>
<dt>本システム構成において、サーバ拡張性に影響するポイントと構成の考え方は以下の通りです。</dt><dd><div class="line-block">
<div class="line">CPU/メモリ/ディスクのうち主に何が消費されているか</div>
<div class="line">リソースが不足するとどのような影響があるか</div>
</div>
</dd>
</dl>
<table class="docutils align-default" id="id22">
<caption><span class="caption-text">システム構成パターン2</span><a class="headerlink" href="#id22" title="このテーブルへのパーマリンク">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>N
o</p></th>
<th class="head"><p>構成</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>オールインワン構成</p></td>
<td><p>システムを一つのサーバ上で組み立てる構成パターン。</p></td>
<td><p>ITA-BASE機能とオールインワン構成可能な連携ドライバ</p>
<ul class="simple">
<li><p>Ansibler-driver</p></li>
<li><p>Cobbler-driver</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>HA構成</p></td>
<td><p>システムを全て個別のサーバに切り離して冗長構成をとり、データファイル、DBファイルを外部ストレージに格納する構築パターン。</p></td>
<td><p>Web/APサーバ
(Act/Act構成)</p>
<p>DBMSサーバ
(Act/Sby構成)</p>
<p>Backyardサーバ
(Act/Sby構成)</p>
</td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>HA構成</p></td>
<td><p>システムを全て個別のサーバに切り離して冗長構成を</p></td>
<td><p>Web/APサーバ
(Act/Act構成)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2022 NEC Corporation</small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>

</div><!-- End #container -->
  </body>
</html>